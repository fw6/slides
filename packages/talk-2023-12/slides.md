---
theme: default
layout: center
highlighter: shiki
css: unocss
colorSchema: light
transition: fade-out
mdc: true
growX: 50
growY: 130
growSize: 1.5
favicon: /trip.ico
title: 'Gitæ·±å…¥æµ…å‡º'
titleTemplate: '%s - Slides'
---

<h1 flex="~ col">
<div text-2xl op80>Gitæ·±å…¥æµ…å‡º<devicon-git ml-1 /></div>
</h1>

<div uppercase text-sm tracking-widest op50>
UGCå‰ç«¯ç»„ å†¯ä¼Ÿ
</div>

<div abs-br mx-35 my-11 flex="~ col gap-4 items-end" text-left>
  <img src="/trip-group.png" h-7 alt="Trip.com Group">
  <div text-xs opacity-75 mt--4>2023/12/28</div>
</div>

<!--
ç»´åŸºç™¾ç§‘å°†Gitæè¿°ä¸ºä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶, æˆ‘ä»¬é¦–å…ˆæ¥äº†è§£ä¸‹ä»€ä¹ˆæ˜¯ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
-->

---
layout: intro
---

## ä»€ä¹ˆæ˜¯ç‰ˆæœ¬æ§åˆ¶(VCS)

ç‰ˆæœ¬æ§åˆ¶æ˜¯ä¸€ç§è®°å½•ä¸€ä¸ªæˆ–è‹¥å¹²æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œä»¥ä¾¿å°†æ¥æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬ä¿®è®¢æƒ…å†µçš„ç³»ç»Ÿ


<div text-gray-500>
<v-clicks>

- æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
- é›†ä¸­åŒ–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆCVCSï¼Œcentralized version control systemsï¼‰
- åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆDVCSï¼Œdistributed version control systemï¼‰

</v-clicks>
</div>


<!--
æœ‰äº†å®ƒï¼Œå°±èƒ½å°†ç‰¹å®šæ–‡ä»¶å›æº¯åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œç”šè‡³å°†æ•´ä¸ªé¡¹ç›®éƒ½å›é€€åˆ°è¿‡å»æŸä¸ªæ—¶é—´ç‚¹çš„çŠ¶æ€

å¯ä»¥æ¯”è¾ƒæ–‡ä»¶çš„å˜åŒ–ç»†èŠ‚ï¼ŒæŸ¥å‡ºæœ€åæ˜¯è°ä¿®æ”¹äº†å“ªä¸ªåœ°æ–¹ï¼Œä»è€Œæ‰¾å‡ºå¯¼è‡´æ€ªå¼‚é—®é¢˜å‡ºç°çš„åŸå› ï¼Œåˆæ˜¯è°åœ¨ä½•æ—¶æŠ¥å‘Šäº†æŸä¸ªåŠŸèƒ½ç¼ºé™·ç­‰ç­‰ã€‚

ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé€šå¸¸è¿˜æ„å‘³ç€ï¼Œå°±ç®—ä½ ä¹±æ¥ä¸€æ°”æŠŠæ•´ä¸ªé¡¹ç›®ä¸­çš„æ–‡ä»¶æ”¹çš„æ”¹åˆ çš„åˆ ï¼Œä¹Ÿç…§æ ·å¯ä»¥è½»æ¾æ¢å¤åˆ°åŸå…ˆçš„æ ·å­ã€‚

ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿåˆ†ä¸º3ç§:
1. å¤åˆ¶æ•´ä¸ªé¡¹ç›®ç›®å½•æ¥ä¿å­˜ä¸åŒç‰ˆæœ¬ï¼Œæˆ–è®¸è¿˜ä¼šæ”¹å+å¤‡ä»½æ—¶é—´ä»¥ç¤ºåŒºåˆ«ã€‚å¥½å¤„æ˜¯ç®€å•ï¼Œç¼ºç‚¹æ˜¯å®¹æ˜“çŠ¯é”™ã€‚æ¯”è¾ƒæµè¡Œçš„ä¸€ç§æ–¹å¼æ˜¯[RCS](https://www.gnu.org/software/rcs/)ï¼Œå·¥ä½œåŸç†æ˜¯åœ¨ç¡¬ç›˜ä¸Šä¿å­˜è¡¥ä¸é›†ï¼ˆè¡¥ä¸æ˜¯æŒ‡æ–‡ä»¶ä¿®è®¢å‰åçš„å˜åŒ–ï¼‰ï¼Œé€šè¿‡åº”ç”¨æ‰€æœ‰çš„è¡¥ä¸ï¼Œå¯ä»¥é‡æ–°è®¡ç®—å‡ºå„ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶å†…å®¹ã€‚
2. è¿™ç±»ç³»ç»Ÿï¼Œè¯¸å¦‚CVSã€Subversionä»¥åŠPerforceç­‰ï¼Œéƒ½æœ‰ä¸€ä¸ªå•ä¸€çš„é›†ä¸­ç®¡ç†çš„æœåŠ¡å™¨ï¼Œä¿å­˜æ‰€æœ‰æ–‡ä»¶çš„ä¿®è®¢ç‰ˆæœ¬ï¼Œè€ŒååŒå·¥ä½œçš„äººä»¬éƒ½é€šè¿‡å®¢æˆ·ç«¯è¿åˆ°è¿™å°æœåŠ¡å™¨ï¼Œå–å‡ºæœ€æ–°çš„æ–‡ä»¶æˆ–è€…æäº¤æ›´æ–°ã€‚ç¼ºç‚¹æ˜¯ä¸­å¤®æœåŠ¡å™¨çš„å•ç‚¹æ•…éšœï¼Œå¦‚æœå®•æœºä¸€å°æ—¶ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸€å°æ—¶å†…ï¼Œè°éƒ½æ— æ³•æäº¤æ›´æ–°ï¼Œä¹Ÿå°±æ— æ³•ååŒå·¥ä½œã€‚å¦‚æœä¸­å¤®æ•°æ®åº“æ‰€åœ¨çš„ç£ç›˜å‘ç”ŸæŸåï¼Œæˆ–è€…æ•°æ®åº“å¤‡ä»½æ²¡åšå¥½ï¼Œå°±ä¼šå¯¼è‡´ä¸¢å¤±æ‰€æœ‰æ•°æ®ã€‚
3. è¿™ç±»ç³»ç»Ÿï¼Œè¯¸å¦‚Gitã€Mercurialã€Bazaarä»¥åŠDarcsç­‰ï¼Œå®¢æˆ·ç«¯ä¸åªæå–æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶å¿«ç…§ï¼Œè€Œæ˜¯æŠŠä»£ç ä»“åº“å®Œæ•´åœ°é•œåƒä¸‹æ¥ï¼ŒåŒ…æ‹¬å®Œæ•´çš„å†å²è®°å½•ã€‚

-->

---
layout: intro
growX: 80
growY: -10
---

## Gitä¸å…¶ä»–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å·®åˆ«

æœ€ä¸»è¦å·®åˆ«åœ¨äºGitå¯¹å¾…æ•°æ®çš„æ–¹å¼

<v-clicks>

> å…¶ä»–å¤§éƒ¨åˆ†ç³»ç»Ÿä»¥æ–‡ä»¶å˜æ›´åˆ—è¡¨çš„æ–¹å¼å­˜å‚¨ä¿¡æ¯ï¼Œè¿™ç±»ç³»ç»Ÿ**å°†ä»–ä»¬å­˜å‚¨çš„ä¿¡æ¯çœ‹ä½œä¸€ç»„åŸºæœ¬æ–‡ä»¶å’Œæ¯ä¸ªæ–‡ä»¶éšæ—¶é—´é€æ­¥ç´¯ç§¯çš„å·®å¼‚**ã€‚ä»–ä»¬é€šå¸¸è¢«ç§°ä½œåŸºäºå·®å¼‚ï¼ˆdelta-basedï¼‰æˆ–å¢é‡ï¼ˆincrementalï¼‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚

<v-clicks relative>

<img of-hidden absolute :class="$clicks > 2 ? 'hidden' : ''" src="/delta_base.png" alt="CVCS é›†ä¸­åŒ–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå›¾ç¤º" w-100 />

<div flex items-start gap-8>

**Gitæ›´åƒæ˜¯ä¸€ä¸ªå°å‹çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæä¾›äº†è®¸å¤šä»¥æ­¤ä¸ºåŸºç¡€æ„å»ºçš„è¶…å¼ºå·¥å…·ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç®€å•çš„VCSã€‚**

![Alt text](/snipshot_base.png){.w-160}

</div>


</v-clicks>
</v-clicks>

<!--

Gitä¸æŒ‰ç…§ä»¥ä¸Šæ–¹å¼å¯¹å¾…æˆ–ä¿å­˜æ•°æ®ã€‚åä¹‹ï¼ŒGitæ›´åƒæ˜¯æŠŠæ•°æ®çœ‹ä½œæ˜¯å¯¹å°å‹æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ç»„å¿«ç…§ã€‚

åœ¨Gitä¸­ï¼Œæ¯å½“ä½ æäº¤æ›´æ–°æˆ–ä¿å­˜é¡¹ç›®çŠ¶æ€æ—¶ï¼Œ**å®ƒåŸºæœ¬ä¸Šå°±ä¼šå¯¹å½“æ—¶çš„å…¨éƒ¨æ–‡ä»¶åˆ›å»ºä¸€ä¸ªå¿«ç…§å¹¶ä¿å­˜è¿™ä¸ªå¿«ç…§çš„ç´¢å¼•**ã€‚

ä¸ºäº†é«˜æ•ˆï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰ä¿®æ”¹ï¼ŒGitä¸ä¼šå†æ¬¡ä¿å­˜è¯¥æ–‡ä»¶ï¼Œåªä¿ç•™ä¸€ä¸ªé“¾æ¥æŒ‡å‘ä¹‹å‰å­˜å‚¨çš„æ–‡ä»¶ã€‚Gitå¯¹å¾…æ•°æ®æ›´åƒæ˜¯ä¸€ä¸ª**å¿«ç…§æµ**(å†™å…¥æ—¶å¤åˆ¶æŠ€æœ¯å®ç°)ã€‚

1. å‡ ä¹æ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ¬åœ°æ‰§è¡Œã€‚å¦‚ï¼šæµè§ˆé¡¹ç›®å†å²ã€æäº¤æ›´æ–°ã€æŸ¥çœ‹åˆ†æ”¯ç­‰ç­‰ã€‚æ„å‘³ç€ç¦»çº¿æƒ…å†µä¸‹å‡ ä¹å¯ä»¥è¿›è¡Œä»»ä½•æ“ä½œã€‚
2. Gitä¿è¯å®Œæ•´æ€§ã€‚Gitä¸­æ‰€æœ‰æ•°æ®åœ¨å­˜å‚¨å‰éƒ½è®¡ç®—æ ¡éªŒå’Œï¼Œç„¶åä»¥æ ¡éªŒå’Œæ¥å¼•ç”¨ã€‚è¿™æ„å‘³ç€ä¸å¯èƒ½åœ¨Gitä¸çŸ¥æƒ…æ—¶æ›´æ”¹ä»»ä½•æ–‡ä»¶å†…å®¹æˆ–ç›®å½•å†…å®¹ã€‚
   > Gitç”¨äºè®¡ç®—æ ¡éªŒå’Œçš„æœºåˆ¶å«åšSHA-1æ•£åˆ—ï¼ˆhashï¼Œå“ˆå¸Œï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªç”±40ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ï¼ˆ0-9å’Œa-fï¼‰ç»„æˆçš„å­—ç¬¦ä¸²ï¼ŒåŸºäºGitä¸­æ–‡ä»¶çš„å†…å®¹æˆ–ç›®å½•ç»“æ„è®¡ç®—å‡ºæ¥ã€‚å®é™…ä¸Šï¼ŒGitæ•°æ®åº“ä¸­ä¿å­˜çš„ä¿¡æ¯éƒ½æ˜¯ä»¥æ–‡ä»¶å†…å®¹çš„å“ˆå¸Œå€¼æ¥ç´¢å¼•ï¼Œè€Œä¸æ˜¯æ–‡ä»¶åã€‚
3. Gitä¸€èˆ¬åªæ·»åŠ æ•°æ®ã€‚å‡ ä¹æ‰€æœ‰æ“ä½œéƒ½æ˜¯æ·»åŠ æ•°æ®ã€‚ä½ æ‰§è¡Œçš„å¤§éƒ¨åˆ†æ“ä½œï¼Œåªéœ€å‘æ•°æ®åº“ä¸­å¡«å…¥æ•°æ®ï¼Œè€Œå¾ˆå°‘ä¼šåšä»»ä½•ä¸å¯é€†çš„æ“ä½œï¼Œå¦‚åˆ é™¤æ•°æ®ã€‚
-->

---
layout: default
growX: 80
growY: 10
---

## ğŸ§ªå®éªŒ: åˆ›å»ºä¸€æ¡æäº¤

<div mt-8 />

<v-clicks>

```shell
$ git commit -a -m 'Initial commit'
```

<div mt-8 text-center text-4xl>ğŸ™…</div>

</v-clicks>

<!--

æˆ‘ä»¬ä»¥åˆ›å»ºä¸€æ¬¡æäº¤å¼€å§‹,æ¥æ·±å…¥äº†è§£Gitçš„å·¥ä½œåŸç†
æ³¨æ„,ä¸ºäº†äº†è§£Gitçš„æœ¬è´¨, æ¥ä¸‹æ¥æˆ‘ä»¬ä¸ä¼šç›´æ¥ä½¿ç”¨`git commit`!

Gitæœ¬è´¨æ˜¯ä¸€ä¸ªå†…å®¹å¯»å€æ–‡ä»¶ç³»ç»Ÿ,å¹¶åœ¨æ­¤åŸºç¡€ä¸Šæä¾›äº†ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„ç”¨æˆ·ç•Œé¢

Gitæœ€åˆæ˜¯ä¸€å¥—é¢å‘ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å·¥å…·é›†,è€Œä¸æ˜¯å®Œæ•´çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ,æ‰€ä»¥å®ƒè¿˜åŒ…å«äº†ä¸€éƒ¨åˆ†ç”¨äºå®Œæˆåº•å±‚å·¥ä½œçš„å­å‘½ä»¤, ä¸€èˆ¬ç§°è¿™éƒ¨åˆ†å‘½ä»¤ä¸ºåº•å±‚å‘½ä»¤,è€Œé‚£äº›æ›´å‹å¥½çš„å‘½ä»¤è¢«ç§°ä¸ºä¸Šå±‚å‘½ä»¤.

åº•å±‚å‘½ä»¤å¾—ä»¥è®©ä½ çª¥æ¢Gitå†…éƒ¨çš„å·¥ä½œæœºåˆ¶,ä¹Ÿæœ‰åŠ©äºè¯´æ˜Gitæ˜¯å¦‚ä½•è¿ä½œçš„

æ¼”ç¤º: åˆ›å»ºç©ºé¡¹ç›®, è®²è§£.gitç›®å½•ç»“æ„

.gitç›®å½•åŒ…å«äº†å‡ ä¹æ‰€æœ‰Gitå­˜å‚¨å’Œæ“ä½œçš„ä¸œè¥¿.å¦‚éœ€å¤‡ä»½æˆ–å¤åˆ¶ä¸€ä¸ªç‰ˆæœ¬åº“,åªéœ€è¦å¤åˆ¶è¿™ä¸ªç›®å½•å³å¯

- config: é¡¹ç›®ç‰¹æœ‰çš„é…ç½®é€‰é¡¹
- info: åŒ…å«ä¸€ä¸ªå…¨å±€æ€§æ’é™¤æ–‡ä»¶,ç”¨ä»¥æ”¾ç½®é‚£äº›ä¸å¸Œæœ›è¢«è®°å½•åœ¨.gitignoreæ–‡ä»¶ä¸­çš„å¿½ç•¥æ¨¡å¼
- hooks: åŒ…å«å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯çš„é’©å­è„šæœ¬
- objects: å­˜å‚¨æ‰€æœ‰æ•°æ®å†…å®¹
- refs: å­˜å‚¨æŒ‡å‘æ•°æ®(åˆ†æ”¯ã€è¿œç¨‹ä»“åº“ã€æ ‡ç­¾ç­‰)çš„æäº¤å¯¹è±¡çš„æŒ‡é’ˆ
- HEAD: æŒ‡å‘å½“å‰æ‰€åœ¨åˆ†æ”¯çš„æŒ‡é’ˆ
- index: æš‚å­˜åŒºä¿¡æ¯

Gitçš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªç®€å•çš„é”®å€¼å¯¹æ•°æ®åº“,å¯ä»¥é€šè¿‡é”®(å†…å®¹çš„å“ˆå¸Œå€¼)æ¥è®¿é—®å€¼(æ–‡ä»¶å†…å®¹),è¿™ä¸ªæ•°æ®åº“è¢«ç§°ä¸ºå¯¹è±¡æ•°æ®åº“

-->

---
layout: center
growX: 0
growY: 70
---

### åˆ›å»ºæ•°æ®å¯¹è±¡

<!--

1. åˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®,å¹¶æ‰§è¡Œ`git init`åˆå§‹åŒ–
2. æ¼”ç¤ºç©ºçš„`objects`ç›®å½•
3. é€šè¿‡`git hash-object`å‘½ä»¤,å°†ä¸€ä¸ªæ–‡ä»¶å†…å®¹å†™å…¥å¯¹è±¡æ•°æ®åº“,å¹¶è¿”å›è¯¥å¯¹è±¡çš„å“ˆå¸Œå€¼`echo "some text" | git hash-object -w --stdin`
4. ä¸Šè¿°å‘½åè¾“å‡º40ä¸ªå­—ç¬¦çš„æ ¡éªŒå’Œ,è¿™ä¸ªæ ¡éªŒå’Œæ˜¯å¯¹è±¡çš„åå­—
5. æ­¤æ—¶æŸ¥çœ‹objectsç›®å½•,å¯ä»¥æ‰¾åˆ°ä¸æ–°å†…å®¹å¯¹åº”çš„æ–‡ä»¶,æ ¡éªŒå’Œå‰2ä¸ªå­—ç¬¦ä½œä¸ºç›®å½•å,å38ä¸ªå­—ç¬¦ä½œä¸ºæ–‡ä»¶å
6. ä¸€æ—¦å°†å†…å®¹å­˜å‚¨åœ¨å¯¹è±¡æ•°æ®åº“ä¸­, å¯é€šè¿‡`git cat-file -p <hash>`æŸ¥çœ‹å¯¹è±¡å†…å®¹(-pé€‰é¡¹æŒ‡ç¤ºè‡ªåŠ¨åˆ¤æ–­æ–‡ä»¶ç±»å‹)
7. æ¥ä¸‹æ¥åˆ›å»ºä¸ªæ–°æ–‡ä»¶,å¹¶é€šè¿‡hash-objectå­˜å…¥æ•°æ®åº“ä¸­, ä¿®æ”¹ä¸‹å†…å®¹,å†æ¬¡å­˜å…¥
8. æ­¤æ—¶å¯¹è±¡æ•°æ®åº“è®°å½•äº†è¯¥æ–‡ä»¶çš„ä¸¤ä¸ªç‰ˆæœ¬(å­˜å…¥çš„ç¬¬ä¸€æ¡æ•°æ®è¿˜åœ¨, tree .git æŸ¥çœ‹)
9. ä¸Šè¿°è®°å½•çš„ä¸ºæ•°æ®å¯¹è±¡ (è¿è¡Œ`git cat-file -t <hash>`æŸ¥çœ‹), è®°å½•æ–‡ä»¶çš„æ¯ä¸€ä¸ªç‰ˆæœ¬å¹¶ä¸ç°å®,æ­¤å¤–æ–‡ä»¶åä¹Ÿæ— æ³•è®°å½•


-->

---
layout: center
growX: 10
growY: 80
---

### åˆ›å»ºæ ‘å¯¹è±¡

![Alt text](/tree_object.png){.w-120}

<!--

æ¥ä¸‹æ¥æ¢è®¨æ ‘å¯¹è±¡,å®ƒèƒ½è§£å†³ æ–‡ä»¶åä¿å­˜é—®é¢˜,ä¹Ÿèƒ½å°†å¤šä¸ªæ–‡ä»¶ç»„ç»‡åˆ°ä¸€èµ·

Gitä½¿ç”¨ç±»ä¼¼unixæ–‡ä»¶ç³»ç»Ÿçš„æ–¹å¼æ¥å­˜å‚¨æ ‘å¯¹è±¡. ä¸€ä¸ªæ ‘å¯¹è±¡åŒ…å«1æˆ–å¤šæ¡æ•°å¯¹è±¡è®°å½•,æ¯æ¡è®°å½•å«æœ‰ä¸€ä¸ªæŒ‡å‘æ•°æ®å¯¹è±¡æˆ–å­æ ‘å¯¹è±¡çš„æŒ‡é’ˆ,ä»¥åŠç›¸åº”çš„æ¨¡å¼ã€ç±»å‹ã€æ–‡ä»¶åä¿¡æ¯(éšä¾¿æ‰¾ä¸ªé¡¹ç›®, é€šè¿‡`git cat-file -p main^{tree}`æŸ¥çœ‹)

å¦‚ä¸Šå›¾,å±•ç¤ºäº†ç®€åŒ–ç‰ˆçš„æ ‘å¯¹è±¡æ¨¡å‹

é€šå¸¸, Gitæ ¹æ®æŸä¸€æ—¶åˆ»æš‚å­˜åŒº(å³IndexåŒºåŸŸ)æ‰€è¡¨ç¤ºçš„çŠ¶æ€åˆ›å»ºå¹¶è®°å½•ä¸€ä¸ªå¯¹åº”çš„æ ‘å¯¹è±¡,å¦‚æ­¤é‡å¤ä¾¿å¯ä¾æ¬¡è®°å½•(æŸä¸ªæ—¶é—´æ®µå†…)ä¸€ç³»åˆ—æ ‘å¯¹è±¡

ä¸ºåˆ›å»ºä¸€ä¸ªæ ‘å¯¹è±¡,æˆ‘ä»¬éœ€è¦æš‚å­˜ä¸€äº›æ–‡ä»¶åˆ°æš‚å­˜åŒº

æ¼”ç¤º:
1. æ‰§è¡Œ`git update-index --add --cacheinfo 100644 <hash> <file>`å°†æ•°æ®å¯¹è±¡æ·»åŠ åˆ°æš‚å­˜åŒº(100644è¡¨æ˜æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶, å‚è€ƒUNIXå¸¸è§çš„æ–‡ä»¶æ¨¡å¼)
2. ä¸Šè¿°å‘½ä»¤å°†æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¿å­˜åˆ°äº†æš‚å­˜åŒº, é€šè¿‡`git ls-files --stage`æŸ¥çœ‹æš‚å­˜åŒºå†…å®¹
3. æ¥ä¸‹æ¥,é€šè¿‡`git write-tree`å‘½ä»¤å°†æš‚å­˜åŒºå†…å®¹å†™å…¥å¯¹è±¡æ•°æ®åº“,å¹¶è¿”å›æ ‘å¯¹è±¡çš„å“ˆå¸Œå€¼
4. æ­¤æ—¶æ‰§è¡Œ`git cat-file -t <hash>`æŸ¥çœ‹å¯¹è±¡ç±»å‹,å¯ä»¥çœ‹åˆ°æ˜¯ä¸€ä¸ªæ ‘å¯¹è±¡
5. æ¥ä¸‹æ¥æˆ‘ä»¬å†å°†æ–‡ä»¶çš„ç¬¬äºŒä¸ªç‰ˆæœ¬æ·»åŠ åˆ°æš‚å­˜åŒº,å¹¶æ–°å¢ä¸€ä¸ªæ–‡ä»¶,å¹¶é€šè¿‡`git write-tree`å‘½ä»¤å°†æš‚å­˜åŒºå†…å®¹å†™å…¥å¯¹è±¡æ•°æ®åº“,å¹¶è¿”å›æ ‘å¯¹è±¡çš„å“ˆå¸Œå€¼
6. æ‰§è¡Œ`git cat-file -p <hash>`æŸ¥çœ‹æ ‘å¯¹è±¡å†…å®¹,å¯ä»¥çœ‹åˆ°æ ‘å¯¹è±¡è®°å½•äº†æ–‡ä»¶çš„æœ€æ–°ç‰ˆæœ¬,ä»¥åŠæ–°å¢çš„æ–‡ä»¶

-->

---
layout: center
growX: 10
growY: 120
---

### åˆ›å»ºæäº¤å¯¹è±¡

![Alt text](/commit_test_graph.png){.mt-8.w-160}

<!--

ä¸Šä¸€æ­¥,æˆ‘ä»¬å¾—åˆ°äº†2ä¸ªæ ‘å¯¹è±¡, åˆ†åˆ«ä»£è¡¨æˆ‘ä»¬æƒ³è¦è·Ÿè¸ªçš„ä¸åŒé¡¹ç›®çš„å¿«ç…§

ç„¶è€Œè¦é‡ç”¨è¿™äº›å¿«ç…§,æˆ‘ä»¬å¿…é¡»è®°ä½ä¸Šè¿°ä¸¤ä¸ªæ ‘å¯¹è±¡çš„å“ˆå¸Œå€¼, å¹¶ä¸”å®Œå…¨ä¸çŸ¥é“è°ä¿å­˜äº†å¿«ç…§,åœ¨ä»€ä¹ˆæ—¶åˆ»ä¿å­˜äº†è¿™äº›å¿«ç…§,ä»¥åŠä¸ºä»€ä¹ˆä¿å­˜å¿«ç…§

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜, Gitå¼•å…¥äº†æäº¤å¯¹è±¡

æ¼”ç¤º:
1. æ‰§è¡Œ`git commit-tree <hash> -m 'Initial commit'`å‘½ä»¤,åˆ›å»ºä¸€ä¸ªæäº¤å¯¹è±¡,å¹¶è¿”å›æäº¤å¯¹è±¡çš„å“ˆå¸Œå€¼
2. æ­¤æ—¶æ‰§è¡Œ`git cat-file -p <hash>`æŸ¥çœ‹æäº¤å¯¹è±¡å†…å®¹,å¯ä»¥çœ‹åˆ°æäº¤å¯¹è±¡è®°å½•äº†æ ‘å¯¹è±¡çš„å“ˆå¸Œå€¼,ä»¥åŠæäº¤ä¿¡æ¯
3. æ¥ä¸‹æ¥æˆ‘ä»¬åˆ›å»ºç¬¬äºŒä¸ªæäº¤å¯¹è±¡`git commit-tree <hash> -p <prev hash> -m 'Second commit'`
4. æ­¤æ—¶æ‰§è¡Œ`git log --stat <hash>`, å¯æŸ¥çœ‹åˆ°æˆ‘ä»¬å…ˆå‰çš„ä¸¤æ¬¡æäº¤

ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬è¿è¡Œ`git add`+`git commit`å‘½ä»¤æ—¶,Gitæ‰€åšçš„å·¥ä½œ:
> å°†è¢«æ”¹å†™çš„æ•°æ®ä¿å­˜ä¸ºæ•°æ®å¯¹è±¡ã€æ›´æ–°æš‚å­˜åŒºã€è®°å½•æ ‘å¯¹è±¡,æœ€ååˆ›å»ºä¸€ä¸ªæŒ‡æ˜é¡¶å±‚æ ‘å¯¹è±¡å’Œçˆ¶æäº¤çš„æäº¤å¯¹è±¡

è¿™ä¸‰ç§ä¸»è¦çš„Gitå¯¹è±¡â€”â€”æ•°æ®å¯¹è±¡ã€æ ‘å¯¹è±¡å’Œæäº¤å¯¹è±¡, æœ€åˆéƒ½ä»¥å•ç‹¬æ–‡ä»¶çš„æ ¼å¼ä¿å­˜åœ¨`.git/objects`ç›®å½•ä¸‹(æ‰§è¡Œ`tree .git/objects`æŸ¥çœ‹)

æœ€ç»ˆè¿™ä¸¤æ¬¡æäº¤çš„å…³ç³»å¦‚å›¾æ‰€ç¤º

-->

---
layout: two-cols-header
growX: 120
growY: 20
---

### `references`å¼•ç”¨

::left::

<v-click>

```shell
$ echo 4e5825 > .git/refs/heads/master
```

```shell
$ git update-ref refs/heads/master 4e5825
```

</v-click>

::right::

<v-click>

![Alt text](/commit_test_refs_branch.png){.ml-8.h-60.relative.top--24}

</v-click>

<!--

æˆ‘ä»¬å‰é¢åˆ›å»ºäº†2æ¬¡æäº¤,ä½†æ˜¯æ¯æ¬¡æŸ¥çœ‹éƒ½éœ€è¦è¾“å…¥æäº¤å¯¹è±¡çš„å“ˆå¸Œå€¼,è¿™æ ·å¾ˆä¸æ–¹ä¾¿

å¦‚æœæœ‰ä¸ªæ–‡ä»¶èƒ½ä¿å­˜SHA-1å€¼,è€Œè¯¥æ–‡ä»¶æœ‰ä¸ªç®€å•çš„åå­—,ç„¶åç”¨è¿™ä¸ªåå­—æ›¿ä»£åŸå§‹çš„SHA-1å€¼,é‚£å°±å¤ªæ–¹ä¾¿äº†.

åœ¨Gitä¸­,è¿™ç§ç®€å•çš„åå­—è¢«ç§°ä¸ºå¼•ç”¨(Reference),å®ƒä»¬å­˜å‚¨åœ¨`.git/refs`ç›®å½•ä¸‹

åˆ›å»ºä¸€ä¸ªå¼•ç”¨,ä½¿ç”¨è¿™ä¸¤ä¸ªå‘½ä»¤éƒ½å¯ä»¥,ä½†ä¸æå€¡ç¬¬ä¸€ç§é‚£æ ·ç›´æ¥ç¼–è¾‘å¼•ç”¨æ–‡ä»¶
æ­¤æ—¶æ‰§è¡Œ`git log <branch>`ä¸æ‰§è¡Œ`git log <hash>`æ•ˆæœæ˜¯ä¸€è‡´çš„.

è€Œè¿™å°±æ˜¯Gitåˆ†æ”¯çš„æœ¬è´¨äº†, ä¸€ä¸ªæŒ‡å‘æŸä¸€ç³»åˆ—æäº¤ä¹‹é¦–çš„æŒ‡é’ˆæˆ–å¼•ç”¨.
å½“è¿è¡Œ`git branch <branch>`æ—¶, Gitå®é™…ä¸Šä¼šæ‰§è¡Œ`git update-ref`å‘½ä»¤, å–å¾—å½“å‰æ‰€åœ¨åˆ†æ”¯çš„æœ€æ–°æäº¤å¯¹åº”çš„SHA-1å€¼å¹¶å°†å…¶åŠ å…¥åˆ°ä½ è¦åˆ›å»ºçš„ä»»ä½•å¼•ç”¨ä¸­
è¿™é‡Œå…¶å®è¿˜æœ‰ä¸ªå‘, ,å½“æ‰§è¡Œ`git branch <branch>`æ—¶Gitå¦‚ä½•çŸ¥é“æœ€æ–°æäº¤çš„SHA-1å€¼å‘¢? è¿™é‡Œå°±è¦æåˆ°HEADæŒ‡é’ˆäº†, æˆ‘ä»¬å…ˆæš‚æ—¶ä¸è®²,åé¢ä¼šè¯¦ç»†ä»‹ç»

æ¥ä¸‹æ¥,æˆ‘ä»¬ç»§ç»­æ¢ç©¶Gitåˆ†æ”¯åŸç†

-->

---
layout: default
growX: 100
growY: 10
---

## Gitåˆ†æ”¯åŸç†

> Gitä¿å­˜çš„ä¸æ˜¯æ–‡ä»¶çš„å·®å¼‚æˆ–å˜åŒ–,è€Œæ˜¯ä¸€ç³»åˆ—ä¸åŒæ—¶åˆ»çš„**å¿«ç…§**

<div flex items-center mt-8>
<v-clicks>

![Alt text](/branch_deepin.png){.h-50}

<div pl-4 self-stretch>

![Alt text](/commit_object.png){.w-120}

</div>

</v-clicks>

</div>
<v-click>

**Gitçš„åˆ†æ”¯,æœ¬è´¨ä¸Šä»…ä»…æ˜¯æŒ‡å‘æäº¤å¯¹è±¡çš„å¯å˜æŒ‡é’ˆ**

</v-click>

<!--

Gitçš„åˆ†æ”¯æ¨¡å‹è¢«ç§°ä¸ºå®ƒçš„å¿…æ€æŠ€ç‰¹æ€§. å…¶å¤„ç†åˆ†æ”¯çš„æ–¹å¼å¯è°“æ˜¯éš¾ä»¥ç½®ä¿¡çš„è½»é‡,åˆ›å»ºæ–°åˆ†æ”¯å‡ ä¹åœ¨ç¬é—´å®Œæˆ, å¹¶ä¸”è¿›è¡Œåˆ†æ”¯åˆ‡æ¢ä¹Ÿæ˜¯ä¸€æ ·ä¾¿æ·.

å›å¿†ä¸‹å‰é¢æ¼”ç¤ºçš„, Gitæ˜¯ä»–å¦‚ä½•ä¿å­˜æ•°æ®çš„
å½“ä½¿ç”¨`git commit`æ—¶,Gitä¼šå…ˆè®¡ç®—æ¯ä¸€ä¸ªå­ç›®å½•çš„æ ¡éªŒå’Œ,ç„¶ååœ¨Gitä»“åº“ä¸­å°†è¿™äº›æ ¡éªŒå’Œä¿å­˜ä¸ºæ ‘å¯¹è±¡,Gitä¼šåˆ›å»ºä¸€ä¸ªæäº¤å¯¹è±¡,åŒ…å«æŒ‡å‘æ ‘å¯¹è±¡çš„æŒ‡é’ˆ.

Gitä»“åº“ä¸­æœ‰è¿™å‡ ä¸ªå¯¹è±¡: Blobå¯¹è±¡(ä¿å­˜æ–‡ä»¶å¿«ç…§)ã€ä¸€ä¸ªæ ‘å¯¹è±¡(è®°å½•ç›®å½•ç»“æ„å’Œblobå¯¹è±¡ç´¢å¼•)ä»¥åŠä¸€ä¸ªæäº¤å¯¹è±¡(åŒ…å«æŒ‡å‘å‰è¿°æ ‘å¯¹è±¡çš„æŒ‡é’ˆå’Œæ‰€æœ‰æäº¤ä¿¡æ¯)

è€ŒGitçš„åˆ†æ”¯, æœ¬è´¨ä¸Šä»…ä»…æ˜¯æŒ‡å‘æäº¤å¯¹è±¡çš„å¯å˜æŒ‡é’ˆ.

ä¹Ÿå°±æ˜¯åœ¨`.git/refs/heads`ç›®å½•ä¸‹çš„æ–‡ä»¶, éƒ½æ˜¯è¯¥ä»“åº“çš„æœ¬åœ°åˆ†æ”¯
æ—¢ç„¶æœ‰æœ¬åœ°åˆ†æ”¯, é‚£ä¹ˆè‚¯å®šè¿˜æœ‰è¿œç¨‹åˆ†æ”¯, è¿œç¨‹åˆ†æ”¯ä¿å­˜åœ¨`.git/refs/remotes`ç›®å½•ä¸‹

-->

---
layout: default
---

<div v-click-hide :class="$clicks > 0 ? 'hidden' : ''">

![Alt text](/git_history_common.png){.w-120.mt-2}

</div>

<div :class="[$clicks > 0 ? '' : 'hidden']">

```shell
$ git branch testing
```

<v-click>

![Alt text](/new_branch.png){.w-120}

</v-click>

<v-click>

```shell
$ git log --oneline --decorate
```

</v-click>

</div>

<!--

ä¸€èˆ¬åˆ†æ”¯å†å²å¦‚å›¾æ‰€ç¤º,è¿™é‡Œæœ‰ä¸ª`HEAD`, å®ƒæ˜¯ä¸ªç‰¹æ®ŠæŒ‡é’ˆ,ç”¨äºç¡®å®šå½“å‰æ‰€å¤„çš„åˆ†æ”¯,å¯ä»¥å°†HEADæƒ³è±¡ä¸ºå½“å‰åˆ†æ”¯çš„åˆ«å,å¦‚å›¾æ‰€ç¤º,HEADæŒ‡å‘masteråˆ†æ”¯

**æ¼”ç¤º 1-branchä»“åº“ç¤ºä¾‹**

Gitåˆ›å»ºåˆ†æ”¯, ä¼šåœ¨å½“å‰æäº¤å¯¹è±¡ä¸Šåˆ›å»ºä¸€ä¸ªæŒ‡é’ˆ: å¦‚å›¾æ‰€ç¤º
å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤,æŸ¥çœ‹å„ä¸ªåˆ†æ”¯å½“å‰è¯´æŒ‡å‘çš„æäº¤å¯¹è±¡

**æ¼”ç¤º: mainåˆ†æ”¯è¿›è¡Œä¸€æ¬¡ä¿®æ”¹å¹¶æäº¤**
è¿™ä¸ªé¡¹ç›®çš„æäº¤å†å²å·²ç»äº§ç”Ÿäº†åˆ†å‰,ä¸Šé¢ä¸¤æ¬¡æäº¤å‘ç”Ÿåœ¨ä¸åŒåˆ†æ”¯

ä½ å¯ä»¥ä½¿ç”¨`git log`æŸ¥çœ‹åˆ†å‰å†å²:
```shell
$ git log --oneline --decorate --graph --all
```

-->

---
layout: two-cols-header
---

## è¿œç¨‹åˆ†æ”¯

::left::

![Alt text](/remote_branch.png){.w-100}

::right::

![Alt text](/forked_remote_branch.png){.w-100}

<!--

Gitä¸­çš„è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯æ˜¯è¿œç¨‹åˆ†æ”¯çŠ¶æ€çš„å¼•ç”¨, å®ƒä»¬æ˜¯ä½ æ— æ³•ç§»åŠ¨çš„æœ¬åœ°å¼•ç”¨. ä¸€æ—¦è¿›è¡Œç½‘ç»œé€šä¿¡,Gitä¼šè‡ªåŠ¨åœ°æ›´æ–°è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯çš„ä½ç½®.

å¯ä»¥æŠŠä»–ä»¬ç±»æ¯”ä¹¦ç­¾ğŸ”–, å¯ä»¥æé†’ä½ è¯¥åˆ†æ”¯åœ¨è¿œç¨‹ä»“åº“ä¸­çš„ä½ç½®å°±æ˜¯ä½ æœ€åä¸€æ¬¡è¿æ¥åˆ°ä»–ä»¬çš„ä½ç½®

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`git branch -a`åˆ—å‡ºæ‰€æœ‰çš„è¿œç¨‹åˆ†æ”¯ä¸æœ¬åœ°åˆ†æ”¯

è¿œç¨‹åˆ†æ”¯ä»¥`<remote>/<branch>`

è¦ä¸ç»™å®šçš„è¿œç¨‹ä»“åº“åŒæ­¥æ•°æ®,è¿è¡Œ`git fetch <remote>`å‘½ä»¤,è¿™ä¸ªå‘½ä»¤æŸ¥æ‰¾`origin`æ˜¯å“ªä¸ªæœåŠ¡å™¨å¹¶ä»ä¸­æŠ“å–æœ¬åœ°æ²¡æœ‰çš„æ•°æ®,æ›´æ–°æœ¬åœ°æ•°æ®åº“,ç§»åŠ¨`origin/<branch name>`æŒ‡é’ˆåˆ°æ›´æ–°ä¹‹åçš„ä½ç½®

æ¯æ¬¡ä»è¿œç¨‹ä»“åº“æŠ“å–,æœ¬åœ°ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä»½å¯ç¼–è¾‘å‰¯æœ¬,åªæœ‰ä¸€ä¸ªä¸å¯ä¿®æ”¹çš„`origin/server_issue233`æŒ‡é’ˆ
-->

---
layout: intro
---

## è·Ÿè¸ªåˆ†æ”¯

è·Ÿè¸ªåˆ†æ”¯æ˜¯ä¸è¿œç¨‹åˆ†æ”¯æœ‰ç›´æ¥å…³ç³»çš„æœ¬åœ°åˆ†æ”¯

<v-clicks>

```shell
$ git checkout -b issue233 origin/issue233
$ git checkout --track origin/issue233
```

```shell
$ git branch -u origin/server_issue233
```

```shell
$ git merge @{u}
$ git rebase @{u}
```

```shell
$ git branch -vv
* develop 0997a9f [origin/develop: behind 147] fix: ç¡®è®¤è·³è½¬å‘å¸ƒé¡µå‚æ•°
  release 65304cb [origin/release] Merge branch 'feat233' into 'release'
```

</v-clicks>

<!--


ä»ä¸€ä¸ªè¿œç¨‹è·Ÿè¸ªåˆ†æ”¯æ£€å‡ºä¸€ä¸ªæœ¬åœ°åˆ†æ”¯ä¼šè‡ªåŠ¨åˆ›å»ºæ‰€è°“çš„â€œè·Ÿè¸ªåˆ†æ”¯â€(å®ƒè·Ÿè¸ªçš„åˆ†æ”¯è¢«ç§°ä¸ºä¸Šæ¸¸åˆ†æ”¯).

ä½ å¯ä»¥åœ¨ä»»æ„æ—¶é—´ä¿®æ”¹è·Ÿè¸ªçš„ä¸Šæ¸¸åˆ†æ”¯

è®¾ç½®å¥½ä¸Šæ¸¸åˆ†æ”¯å,å¯ä»¥é€šè¿‡ç®€å†™`@{upstream}`æˆ–`@{u}`æ¥å¼•ç”¨ä¸Šæ¸¸åˆ†æ”¯.

è¦æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„è·Ÿè¸ªåˆ†æ”¯,å¯ä»¥è¿è¡Œ`git branch -vv`


å¯ä»¥çœ‹åˆ°æ­£åœ¨è·Ÿè¸ªçš„è¿œç¨‹åˆ†æ”¯æ˜¯å¦é¢†å…ˆ/è½å

> è¿™äº›æ•°å­—çš„å€¼å¹¶éå‡†ç¡®,å–å†³äºä½ ä¸Šæ¬¡æŠ“å–çš„æ•°æ®`git fetch`.
> è¿™ä¸ªå‘½ä»¤å¹¶æ²¡æœ‰è”ç½‘,åªæ˜¯å‘Šè¯‰ä½ å…³äºæœ¬åœ°ç¼“å­˜çš„æœåŠ¡å™¨æ•°æ®

-->

---
layout: intro
---

## æ‹‰å–

`git pull` = `git fetch` + `git merge`

<!--

ä½¿ç”¨`git fetch`ä»æœåŠ¡å™¨æŠ“å–æœ¬åœ°æ²¡æœ‰çš„å†…å®¹æ—¶,å®ƒå¹¶ä¸ä¼šä¿®æ”¹å·¥ä½œç›®å½•ä¸­çš„å†…å®¹
å®ƒåªä¼šè·å–æ•°æ®å‘Šè¯‰ä½ æœ¬åœ°åˆ†æ”¯è½åè¿œç¨‹åˆ†æ”¯å¤šå°‘æäº¤

å¦‚æœä½ æƒ³è¦è‡ªåŠ¨åˆå¹¶è¿œç¨‹åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯,å¯ä»¥ä½¿ç”¨`git pull`å‘½ä»¤
ä½¿ç”¨`git pull`è¿›è¡Œæ‹‰å–æ“ä½œ,å¯ä»¥ç†è§£ä¸º`git fetch`+`git merge`

å¦‚æœå½“å‰æ˜¯ä¸€ä¸ªè·Ÿè¸ªåˆ†æ”¯,`git pull`ä¼šæŸ¥æ‰¾å½“å‰åˆ†æ”¯è·Ÿè¸ªçš„æœåŠ¡å™¨ä¸åˆ†æ”¯,ä»æœåŠ¡å™¨æŠ“å–æ•°æ®ç„¶åå°è¯•åˆå¹¶å…¥è¿œç¨‹åˆ†æ”¯.

-->

---
layout: intro
growX: 100
growY: 120
---

## Gitä¸‰ç§çŠ¶æ€

Gitæœ‰ä¸‰ç§çŠ¶æ€ï¼Œä½ çš„æ–‡ä»¶å¯èƒ½å¤„äºå…¶ä¸­ä¹‹ä¸€ï¼š**å·²æäº¤**ï¼ˆcommittedï¼‰ã€**å·²ä¿®æ”¹**ï¼ˆmodifiedï¼‰å’Œ**å·²æš‚å­˜**ï¼ˆstagedï¼‰ã€‚

<v-clicks>
<div flex items-center>

- å·²ä¿®æ”¹è¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†è¿˜æ²¡ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚
- å·²æš‚å­˜è¡¨ç¤ºå¯¹å·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å«åœ¨ä¸‹æ¬¡æäº¤çš„å¿«ç…§ä¸­ã€‚
- å·²æäº¤è¡¨ç¤ºæ•°æ®å·²ç»å®‰å…¨åœ°ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ä¸­ã€‚

![Alt text](/git_status.png){.w-120}

</div>
</v-clicks>

<!--
æˆ‘èƒ½åœ¨å¼€å§‹æ·±å…¥å­¦ä¹ Gitä¹‹å‰ï¼Œå…ˆå¯¹Gitå·¥ä½œåŒºå»ºç«‹ä¸€ä¸ªæ„Ÿæ€§çš„è®¤è¯†
é¦–å…ˆæ˜¯Gitå†…æ–‡ä»¶çš„ä¸‰ç§çŠ¶æ€,å®ƒä¸å·¥ä½œåŒºã€æš‚å­˜åŒºã€ç‰ˆæœ¬åº“çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤º
- å·¥ä½œåŒºæ˜¯å¯¹é¡¹ç›®çš„æŸä¸ªç‰ˆæœ¬ç‹¬ç«‹æå–å‡ºæ¥çš„å†…å®¹ã€‚è¿™äº›ä»Gitä»“åº“çš„å‹ç¼©æ•°æ®åº“ä¸­æå–å‡ºæ¥çš„æ–‡ä»¶ï¼Œæ”¾åœ¨ç£ç›˜ä¸Šä¾›ä½ ä½¿ç”¨æˆ–ä¿®æ”¹ã€‚
- æš‚å­˜åŒºæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜äº†ä¸‹æ¬¡å°†æäº¤çš„æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯ï¼Œä¸€èˆ¬åœ¨Gitä»“åº“ç›®å½•ä¸­ã€‚Gitæœ¯è¯­ç§°ä½œâ€˜ç´¢å¼•â€™ï¼Œä¸è¿‡ä¸€èˆ¬è¯´æ³•è¿˜æ˜¯å«æš‚å­˜åŒºã€‚
- Gitä»“åº“æ˜¯Gitç”¨æ¥ä¿å­˜é¡¹ç›®çš„å…ƒæ•°æ®å’Œå¯¹è±¡æ•°æ®åº“çš„åœ°æ–¹ã€‚è¿™æ˜¯Gitæœ€é‡è¦çš„éƒ¨åˆ†ï¼Œä»å…¶ä»–è®¡ç®—æœºå…‹éš†ä»“åº“æ—¶ï¼Œæ‹·è´çš„å°±æ˜¯è¿™é‡Œçš„æ•°æ®ã€‚(å…¶å®å°±æ˜¯.gitéšè—ç›®å½•)
-->

---
layout: two-cols-header
---

## æ–‡ä»¶çš„çŠ¶æ€ğŸ“ƒ

æˆ‘ä»¬å¯ä»¥é€šè¿‡`git status`æŸ¥çœ‹æ–‡ä»¶çš„çŠ¶æ€

::left::

<div v-click mr-4>

```shell
$ git status
On branch main
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        renamed:    LICENSE.txt -> LICENSE
        modified:   README.md
        new file:   README.txt
        new file:   untrackted_staging_file

Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        deleted:    README.md
        deleted:    untrackted_staging_file

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        untracked
        untrackted_staged_file
```

</div>

::right::

<v-click>

```shell
$ git status -s
R  LICENSE.txt -> LICENSE
MD README.md
A  README.txt
AD untrackted_staging_file
?? untracked
?? untrackted_staged_file
```

</v-click>
<v-click>

- `?` æœªè¢«è¿½è¸ªçš„
- `A`ï¼šæ·»åŠ åˆ°ç´¢å¼•æ ‘ä¸­çš„(ç´¢å¼•æ¥ä¸‹æ¥åœ¨Gitä¸‰æ£µæ ‘ä¸­ä¼šè®²åˆ°)
- `M`ï¼šåœ¨ç´¢å¼•ä¸­è¢«æ›´æ–°
- `D` åœ¨ç´¢å¼•ä¸­åˆ é™¤
- `R` åœ¨ç´¢å¼•ä¸­è¢«é‡æ–°å‘½å

</v-click>

<!--

ä¸GitçŠ¶æ€æ¯æ¯ç›¸å…³çš„æ—¶æ–‡ä»¶çš„çŠ¶æ€,æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ–‡ä»¶çš„çŠ¶æ€,å¯ä»¥çœ‹åˆ°å½“å‰å·¥ä½œåŒºæ˜¯å¹²å‡€çš„,æ²¡æœ‰ä»»ä½•ä¿®æ”¹,è¿™é‡Œæœ‰ä¸ª`working tree`,æ˜¯Gitçš„ä¸‰æ£µæ ‘ä¹‹ä¸€,åé¢ä¼šè¯¦ç»†ä»‹ç»

**æ‰“å¼€ä»£ç ä»“åº“æ¼”ç¤ºä¸‹çŠ¶æ€!**

ä¹Ÿå¯ä»¥é€šè¿‡`git status -s`æŸ¥çœ‹æ–‡ä»¶çš„çŠ¶æ€,è¿™é‡Œçš„`-s`æ˜¯`--short`çš„ç®€å†™,å¯ä»¥çœ‹åˆ°æ–‡ä»¶çš„çŠ¶æ€æ›´åŠ ç®€æ´
è¿™é‡Œæ‰“å°äº†éƒ¨åˆ†çŠ¶æ€,è¿™é‡Œæ˜¾ç¤ºäº†ä¸€ä¸ªåŒå­æ¯çš„çŠ¶æ€ä»£ç ,ç§°ä¸ºXYè¯­æ³•,XYçš„å«ä¹‰:
- `?` æœªè¢«è¿½è¸ªçš„
- `A`ï¼šæ·»åŠ åˆ°ç´¢å¼•æ ‘ä¸­çš„(ç´¢å¼•æ¥ä¸‹æ¥åœ¨Gitä¸‰æ£µæ ‘ä¸­ä¼šè®²åˆ°)
- `M`ï¼šåœ¨ç´¢å¼•ä¸­è¢«æ›´æ–°
- `D` åœ¨ç´¢å¼•ä¸­åˆ é™¤
- `R` åœ¨ç´¢å¼•ä¸­è¢«é‡æ–°å‘½å
-->

---
layout: intro
growX: 0
growY: 100
---

## Gitçš„ä¸‰æ£µæ ‘ğŸŒ²

<div mt-8 />

| æ ‘       | ç”¨é€”                            |
| -------- | ------------------------------- |
| HEAD     | ä¸Šæ¬¡æäº¤çš„å¿«ç…§,ä¸‹æ¬¡æäº¤çš„çˆ¶èŠ‚ç‚¹ |
| ç´¢å¼•     | é¢„æœŸçš„ä¸‹æ¬¡æäº¤å¿«ç…§              |
| å·¥ä½œç›®å½• | æ²™ç›’                            |

---
layout: center
---

HEAD å¯ç®€å•ç†è§£ä¸º: è¯¥åˆ†æ”¯æœ€åä¸€æ¬¡æäº¤çš„å¿«ç…§

> `git cat-file -p ^HEAD` æŸ¥çœ‹HEADæŒ‡å‘çš„æäº¤
> `git ls-tree -r HEAD` æŸ¥çœ‹HEADæŒ‡å‘çš„æäº¤åŒ…å«çš„æ–‡ä»¶

---
layout: end
---
